<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ADE - App Development Engine (Vercel)</title>
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js?v=2025"></script>
  <link rel="stylesheet" href="public/styles-tailwind-minimal.css?v=2025">
  <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
  <style>
    .draggable { cursor: move; }
    .phone-simulator {
      width: 390px;
      height: 844px;
      background: linear-gradient(145deg, #1f2937, #374151);
      border-radius: 30px;
      border: 8px solid #4b5563;
      position: relative;
      overflow: hidden;
    }
  </style>
</head>
<body class="bg-gray-900 text-white overflow-hidden h-screen">
  <div id="app">
    <div class="h-screen flex bg-gray-900">
      <!-- Left Side: Mermaid Diagram -->
      <div class="flex-1 p-4 overflow-hidden">
        <div class="bg-gray-800 rounded-lg h-full flex flex-col">
          <div class="p-4 border-b border-gray-700">
            <h2 class="text-xl font-bold text-green-400">ðŸ“± App Flow Visualization</h2>
            <p class="text-sm text-gray-400">Vercel Serverless â€¢ Claude Sonnet 4</p>
          </div>
          <div class="flex-1 p-4 overflow-auto">
            <div id="mermaid-diagram" class="w-full h-full flex items-center justify-center text-gray-400">
              Loading diagram...
            </div>
          </div>
        </div>
      </div>
      
      <!-- Right Side: Phone Simulator -->
      <div class="flex-1 flex items-center justify-center p-4">
        <div class="phone-simulator">
          <div class="p-4 pt-8 h-full overflow-auto bg-gray-800 text-white">
            <div class="text-center">
              <h1 class="text-2xl font-bold mb-4">ADE v7</h1>
              <p class="text-gray-300 mb-6">Vercel Deployment Ready!</p>
              <div class="space-y-2">
                <div class="p-2 bg-blue-600 rounded">Chat with Claude Sonnet 4</div>
                <div class="p-2 bg-purple-600 rounded">Single-Agent Compiler</div>
                <div class="p-2 bg-green-600 rounded">90% Pattern Coverage</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Quick Test Button -->
      <button 
        onclick="testAPI()"
        class="fixed bottom-6 right-6 w-16 h-16 bg-blue-600 hover:bg-blue-700 rounded-full flex items-center justify-center text-2xl shadow-lg z-50"
      >
        ðŸ§ª
      </button>
    </div>
  </div>
  
  <script>
    async function testAPI() {
      try {
        const response = await fetch('/api/chat', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ message: 'test coaching app' })
        });
        const data = await response.json();
        alert('API Test Success! Response: ' + data.content.substring(0, 100) + '...');
      } catch (error) {
        alert('API Test Failed: ' + error.message);
      }
    }
  </script>
</body>
</html>